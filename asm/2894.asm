
	.align	16
__MAIN
	push	ebx
	push	esi
	push	edi
	push	ebp
	mov	ebp,esp
	sub	esp,20
	sub	esp,4
	mov	eax,__DATA
	mov	[esp],eax
	call	__bbRestore
	sub	esp,4
	mov	eax,__LIBS
	mov	[esp],eax
	call	__bbLoadLibs
	call	_2_begin
	jmp	_2_leave
_2_begin
	mov	ebx,0
	mov	[ebp-4],ebx
	mov	[ebp-8],ebx
	mov	[ebp-12],ebx
	mov	[ebp-16],ebx
	sub	esp,4
	mov	eax,_ascancode_array
	mov	[esp],eax
	call	__bbUndimArray
	mov	ebx,237
	mov	esi,_ascancode_array
	add	esi,12
	mov	[esi],ebx
	mov	ebx,2
	mov	esi,_ascancode_array
	add	esi,16
	mov	[esi],ebx
	sub	esp,4
	mov	eax,_ascancode_array
	mov	[esp],eax
	call	__bbDimArray
	sub	esp,4
	mov	eax,__DATA
	add	eax,0
	mov	[esp],eax
	call	__bbRestore
	jmp	_8
_7
	call	__bbReadInt
	mov	[ebp-4],eax
	cmp	[ebp-4],999
	jz	_9
	call	__bbReadInt
	mov	[ebp-8],eax
	call	__bbReadInt
	mov	[ebp-12],eax
	mov	ebx,[ebp-8]
	mov	esi,_ascancode_array
	add	esi,12
	mov	esi,[esi]
	imul	esi,[ebp-4]
	add	esi,[ebp-12]
	shl	esi,byte 2
	add	esi,[_ascancode_array]
	mov	[esi],ebx
_9
_8
	cmp	[ebp-4],999
	jnz	_7
_3
	jmp	_11
_10
	call	_fscancode_to_ascii
	mov	[ebp-16],eax
	cmp	[ebp-16],0
	jz	_12
	sub	esp,24
	mov	eax,[ebp-16]
	mov	[esp],eax
	call	__bbStrFromInt
	mov	[esp],eax
	mov	[ebp-20],eax
	sub	esp,4
	mov	ebx,_13
	mov	[esp],ebx
	mov	eax,ebx
	call	__bbStrConst
	mov	ebx,eax
	mov	eax,[ebp-20]
	mov	[esp+4],ebx
	call	__bbStrConcat
	mov	[esp],eax
	mov	[ebp-20],eax
	sub	esp,4
	mov	ebx,[ebp-16]
	mov	[esp],ebx
	mov	eax,ebx
	call	_fchr
	mov	ebx,eax
	mov	eax,[ebp-20]
	mov	[esp+4],ebx
	call	__bbStrConcat
	mov	[esp],eax
	call	_fprint
_12
_11
	sub	esp,4
	mov	[esp],1
	call	_fkeyhit
	cmp	eax,0
	jz	_10
_4
_l_2scancodestoascii_data
	ret
_2_leave
	mov	esp,ebp
	pop	ebp
	pop	edi
	pop	esi
	pop	ebx
	ret	word 0
	.align	16
_fscancode_to_ascii
	push	ebx
	push	esi
	push	edi
	push	ebp
	mov	ebp,esp
	sub	esp,20
	mov	ebx,0
	mov	[ebp-4],ebx
	mov	[ebp-8],ebx
	mov	[ebp-12],ebx
	mov	[ebp-4],1
	jmp	_14
_15
	sub	esp,4
	mov	eax,[ebp-4]
	mov	[esp],eax
	call	_fkeydown
	cmp	eax,1
	jnz	_16
	cmp	[ebp-4],42
	setnz	al
	movzx	eax,al
	mov	[ebp-16],eax
	cmp	[ebp-4],54
	mov	eax,ebx
	setnz	al
	movzx	eax,al
	mov	ebx,eax
	mov	eax,[ebp-16]
	and	eax,ebx
	and	eax,eax
	jz	_17
	mov	ebx,[ebp-4]
	mov	[ebp-8],ebx
_17
_16
	add	[ebp-4],1
_14
	cmp	[ebp-4],237
	jle	_15
_6
	sub	esp,4
	mov	[esp],42
	call	_fkeydown
	cmp	eax,1
	setz	al
	movzx	eax,al
	mov	[ebp-16],eax
	mov	[ebp-20],eax
	sub	esp,4
	mov	[esp],54
	mov	eax,ebx
	call	_fkeydown
	mov	ebx,eax
	mov	eax,[ebp-20]
	cmp	ebx,1
	mov	eax,ebx
	setz	al
	movzx	eax,al
	mov	ebx,eax
	mov	eax,[ebp-16]
	or	eax,ebx
	and	eax,eax
	jz	_18
	mov	[ebp-12],2
	jmp	_19
_18
	mov	[ebp-12],1
_19
	cmp	[ebp-12],2
	jnz	_20
	cmp	[ebp-8],42
	setz	al
	movzx	eax,al
	mov	[ebp-16],eax
	cmp	[ebp-8],54
	mov	eax,ebx
	setz	al
	movzx	eax,al
	mov	ebx,eax
	mov	eax,[ebp-16]
	or	eax,ebx
	and	eax,eax
	jz	_21
	mov	eax,0
	jmp	_5_leave
_21
_20
	mov	eax,_ascancode_array
	add	eax,12
	mov	eax,[eax]
	imul	eax,[ebp-12]
	add	eax,[ebp-8]
	shl	eax,byte 2
	add	eax,[_ascancode_array]
	mov	eax,[eax]
	jmp	_5_leave
	mov	eax,0
	jmp	_5_leave
_5_leave
	mov	esp,ebp
	pop	ebp
	pop	edi
	pop	esi
	pop	ebx
	ret	word 0
	.align	4
_ascancode_array	.dd	0
	.dd	1
	.dd	2
	.dd	0
	.dd	0
_13	.db	"    ",0
	.align	4
__LIBS
	.db	"",0
	.align	4
__DATA
	.dd	1
	.dd	1
	.dd	1
	.dd	27
	.dd	1
	.dd	1
	.dd	1
	.dd	1
	.dd	1
	.dd	96
	.dd	1
	.dd	41
	.dd	1
	.dd	1
	.dd	1
	.dd	49
	.dd	1
	.dd	2
	.dd	1
	.dd	1
	.dd	1
	.dd	50
	.dd	1
	.dd	3
	.dd	1
	.dd	1
	.dd	1
	.dd	51
	.dd	1
	.dd	4
	.dd	1
	.dd	1
	.dd	1
	.dd	52
	.dd	1
	.dd	5
	.dd	1
	.dd	1
	.dd	1
	.dd	53
	.dd	1
	.dd	6
	.dd	1
	.dd	1
	.dd	1
	.dd	54
	.dd	1
	.dd	7
	.dd	1
	.dd	1
	.dd	1
	.dd	55
	.dd	1
	.dd	8
	.dd	1
	.dd	1
	.dd	1
	.dd	56
	.dd	1
	.dd	9
	.dd	1
	.dd	1
	.dd	1
	.dd	57
	.dd	1
	.dd	10
	.dd	1
	.dd	1
	.dd	1
	.dd	48
	.dd	1
	.dd	11
	.dd	1
	.dd	1
	.dd	1
	.dd	45
	.dd	1
	.dd	12
	.dd	1
	.dd	1
	.dd	1
	.dd	61
	.dd	1
	.dd	13
	.dd	1
	.dd	1
	.dd	1
	.dd	8
	.dd	1
	.dd	14
	.dd	1
	.dd	1
	.dd	1
	.dd	3
	.dd	1
	.dd	210
	.dd	1
	.dd	1
	.dd	1
	.dd	1
	.dd	1
	.dd	199
	.dd	1
	.dd	1
	.dd	1
	.dd	5
	.dd	1
	.dd	201
	.dd	1
	.dd	1
	.dd	1
	.dd	6
	.dd	1
	.dd	209
	.dd	1
	.dd	1
	.dd	1
	.dd	2
	.dd	1
	.dd	207
	.dd	1
	.dd	1
	.dd	1
	.dd	4
	.dd	1
	.dd	211
	.dd	1
	.dd	1
	.dd	1
	.dd	9
	.dd	1
	.dd	15
	.dd	1
	.dd	1
	.dd	1
	.dd	113
	.dd	1
	.dd	16
	.dd	1
	.dd	1
	.dd	1
	.dd	119
	.dd	1
	.dd	17
	.dd	1
	.dd	1
	.dd	1
	.dd	101
	.dd	1
	.dd	18
	.dd	1
	.dd	1
	.dd	1
	.dd	114
	.dd	1
	.dd	19
	.dd	1
	.dd	1
	.dd	1
	.dd	116
	.dd	1
	.dd	20
	.dd	1
	.dd	1
	.dd	1
	.dd	121
	.dd	1
	.dd	21
	.dd	1
	.dd	1
	.dd	1
	.dd	117
	.dd	1
	.dd	22
	.dd	1
	.dd	1
	.dd	1
	.dd	105
	.dd	1
	.dd	23
	.dd	1
	.dd	1
	.dd	1
	.dd	111
	.dd	1
	.dd	24
	.dd	1
	.dd	1
	.dd	1
	.dd	112
	.dd	1
	.dd	25
	.dd	1
	.dd	1
	.dd	1
	.dd	91
	.dd	1
	.dd	26
	.dd	1
	.dd	1
	.dd	1
	.dd	93
	.dd	1
	.dd	27
	.dd	1
	.dd	1
	.dd	1
	.dd	92
	.dd	1
	.dd	43
	.dd	1
	.dd	1
	.dd	1
	.dd	97
	.dd	1
	.dd	30
	.dd	1
	.dd	1
	.dd	1
	.dd	115
	.dd	1
	.dd	31
	.dd	1
	.dd	1
	.dd	1
	.dd	100
	.dd	1
	.dd	32
	.dd	1
	.dd	1
	.dd	1
	.dd	102
	.dd	1
	.dd	33
	.dd	1
	.dd	1
	.dd	1
	.dd	103
	.dd	1
	.dd	34
	.dd	1
	.dd	1
	.dd	1
	.dd	104
	.dd	1
	.dd	35
	.dd	1
	.dd	1
	.dd	1
	.dd	106
	.dd	1
	.dd	36
	.dd	1
	.dd	1
	.dd	1
	.dd	107
	.dd	1
	.dd	37
	.dd	1
	.dd	1
	.dd	1
	.dd	108
	.dd	1
	.dd	38
	.dd	1
	.dd	1
	.dd	1
	.dd	59
	.dd	1
	.dd	39
	.dd	1
	.dd	1
	.dd	1
	.dd	39
	.dd	1
	.dd	40
	.dd	1
	.dd	1
	.dd	1
	.dd	13
	.dd	1
	.dd	28
	.dd	1
	.dd	1
	.dd	1
	.dd	122
	.dd	1
	.dd	44
	.dd	1
	.dd	1
	.dd	1
	.dd	120
	.dd	1
	.dd	45
	.dd	1
	.dd	1
	.dd	1
	.dd	99
	.dd	1
	.dd	46
	.dd	1
	.dd	1
	.dd	1
	.dd	118
	.dd	1
	.dd	47
	.dd	1
	.dd	1
	.dd	1
	.dd	98
	.dd	1
	.dd	48
	.dd	1
	.dd	1
	.dd	1
	.dd	110
	.dd	1
	.dd	49
	.dd	1
	.dd	1
	.dd	1
	.dd	109
	.dd	1
	.dd	50
	.dd	1
	.dd	1
	.dd	1
	.dd	44
	.dd	1
	.dd	51
	.dd	1
	.dd	1
	.dd	1
	.dd	46
	.dd	1
	.dd	52
	.dd	1
	.dd	1
	.dd	1
	.dd	47
	.dd	1
	.dd	53
	.dd	1
	.dd	1
	.dd	1
	.dd	32
	.dd	1
	.dd	57
	.dd	1
	.dd	1
	.dd	1
	.dd	31
	.dd	1
	.dd	203
	.dd	1
	.dd	1
	.dd	1
	.dd	29
	.dd	1
	.dd	208
	.dd	1
	.dd	1
	.dd	1
	.dd	30
	.dd	1
	.dd	205
	.dd	1
	.dd	1
	.dd	1
	.dd	28
	.dd	1
	.dd	200
	.dd	1
	.dd	2
	.dd	1
	.dd	126
	.dd	1
	.dd	41
	.dd	1
	.dd	2
	.dd	1
	.dd	33
	.dd	1
	.dd	2
	.dd	1
	.dd	2
	.dd	1
	.dd	64
	.dd	1
	.dd	3
	.dd	1
	.dd	2
	.dd	1
	.dd	35
	.dd	1
	.dd	4
	.dd	1
	.dd	2
	.dd	1
	.dd	36
	.dd	1
	.dd	5
	.dd	1
	.dd	2
	.dd	1
	.dd	37
	.dd	1
	.dd	6
	.dd	1
	.dd	2
	.dd	1
	.dd	94
	.dd	1
	.dd	7
	.dd	1
	.dd	2
	.dd	1
	.dd	38
	.dd	1
	.dd	8
	.dd	1
	.dd	2
	.dd	1
	.dd	42
	.dd	1
	.dd	9
	.dd	1
	.dd	2
	.dd	1
	.dd	40
	.dd	1
	.dd	10
	.dd	1
	.dd	2
	.dd	1
	.dd	41
	.dd	1
	.dd	11
	.dd	1
	.dd	2
	.dd	1
	.dd	95
	.dd	1
	.dd	12
	.dd	1
	.dd	2
	.dd	1
	.dd	43
	.dd	1
	.dd	13
	.dd	1
	.dd	2
	.dd	1
	.dd	81
	.dd	1
	.dd	16
	.dd	1
	.dd	2
	.dd	1
	.dd	87
	.dd	1
	.dd	17
	.dd	1
	.dd	2
	.dd	1
	.dd	69
	.dd	1
	.dd	18
	.dd	1
	.dd	2
	.dd	1
	.dd	82
	.dd	1
	.dd	19
	.dd	1
	.dd	2
	.dd	1
	.dd	84
	.dd	1
	.dd	20
	.dd	1
	.dd	2
	.dd	1
	.dd	89
	.dd	1
	.dd	21
	.dd	1
	.dd	2
	.dd	1
	.dd	85
	.dd	1
	.dd	22
	.dd	1
	.dd	2
	.dd	1
	.dd	73
	.dd	1
	.dd	23
	.dd	1
	.dd	2
	.dd	1
	.dd	79
	.dd	1
	.dd	24
	.dd	1
	.dd	2
	.dd	1
	.dd	80
	.dd	1
	.dd	25
	.dd	1
	.dd	2
	.dd	1
	.dd	123
	.dd	1
	.dd	26
	.dd	1
	.dd	2
	.dd	1
	.dd	125
	.dd	1
	.dd	27
	.dd	1
	.dd	2
	.dd	1
	.dd	124
	.dd	1
	.dd	43
	.dd	1
	.dd	2
	.dd	1
	.dd	9
	.dd	1
	.dd	15
	.dd	1
	.dd	2
	.dd	1
	.dd	65
	.dd	1
	.dd	30
	.dd	1
	.dd	2
	.dd	1
	.dd	83
	.dd	1
	.dd	31
	.dd	1
	.dd	2
	.dd	1
	.dd	68
	.dd	1
	.dd	32
	.dd	1
	.dd	2
	.dd	1
	.dd	70
	.dd	1
	.dd	33
	.dd	1
	.dd	2
	.dd	1
	.dd	71
	.dd	1
	.dd	34
	.dd	1
	.dd	2
	.dd	1
	.dd	72
	.dd	1
	.dd	35
	.dd	1
	.dd	2
	.dd	1
	.dd	74
	.dd	1
	.dd	36
	.dd	1
	.dd	2
	.dd	1
	.dd	75
	.dd	1
	.dd	37
	.dd	1
	.dd	2
	.dd	1
	.dd	76
	.dd	1
	.dd	38
	.dd	1
	.dd	2
	.dd	1
	.dd	58
	.dd	1
	.dd	39
	.dd	1
	.dd	2
	.dd	1
	.dd	34
	.dd	1
	.dd	40
	.dd	1
	.dd	2
	.dd	1
	.dd	90
	.dd	1
	.dd	44
	.dd	1
	.dd	2
	.dd	1
	.dd	88
	.dd	1
	.dd	45
	.dd	1
	.dd	2
	.dd	1
	.dd	67
	.dd	1
	.dd	46
	.dd	1
	.dd	2
	.dd	1
	.dd	86
	.dd	1
	.dd	47
	.dd	1
	.dd	2
	.dd	1
	.dd	66
	.dd	1
	.dd	48
	.dd	1
	.dd	2
	.dd	1
	.dd	78
	.dd	1
	.dd	49
	.dd	1
	.dd	2
	.dd	1
	.dd	77
	.dd	1
	.dd	50
	.dd	1
	.dd	2
	.dd	1
	.dd	60
	.dd	1
	.dd	51
	.dd	1
	.dd	2
	.dd	1
	.dd	62
	.dd	1
	.dd	52
	.dd	1
	.dd	2
	.dd	1
	.dd	63
	.dd	1
	.dd	53
	.dd	1
	.dd	999
	.dd	0

